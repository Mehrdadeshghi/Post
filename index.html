<script>
function fetchPinStates() {
    fetch('http://<IP Ihres Raspberry Pi>:5001/api/get_pin_states')
    .then(response => response.json())
    .then(data => {
        const table = document.getElementById('pinStatusTable');
        table.innerHTML = ''; // Clear previous entries
        Object.keys(data).forEach(pin => {
            const row = table.insertRow();
            const pinCell = row.insertCell();
            const statusCell = row.insertCell();
            pinCell.innerHTML = pin;
            statusCell.innerHTML = data[pin] === 1 ? 'Free' : 'Occupied';
            statusCell.className = data[pin] === 1 ? 'free' : 'occupied';
        });
    })
    .catch(error => console.error('Error fetching pin states:', error));
}

// Fetch states every 5 seconds
setInterval(fetchPinStates, 5000);
fetchPinStates(); // Initial fetch
</script>
